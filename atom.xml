<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Auston</title>
  
  
  <link href="http://austoncloud.xyz/atom.xml" rel="self"/>
  
  <link href="http://austoncloud.xyz/"/>
  <updated>2021-12-14T05:03:39.157Z</updated>
  <id>http://austoncloud.xyz/</id>
  
  <author>
    <name>Auston Young</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>软件生命周期</title>
    <link href="http://austoncloud.xyz/2021/12/14/%E8%BD%AF%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"/>
    <id>http://austoncloud.xyz/2021/12/14/%E8%BD%AF%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/</id>
    <published>2021-12-13T17:12:21.440Z</published>
    <updated>2021-12-14T05:03:39.157Z</updated>
    
    <content type="html"><![CDATA[<h3 id="软件生命周期"><a href="#软件生命周期" class="headerlink" title="软件生命周期"></a>软件生命周期</h3><p><strong>1.问题定义</strong></p><p><strong>2.可行性分析</strong></p><ul><li>用最小的代价在尽可能短的时间内确定问题是否能够解决<ul><li>技术可行性</li><li>经济可行性</li><li>操作可行性</li><li>法律可行性</li></ul></li></ul><p><strong>3.需求分析</strong></p><ul><li>准确回答系统必须做什么<ul><li>功能需求</li><li>性能需求</li><li>可靠性和可用性需求</li><li>出错处理需求</li><li>接口需求</li><li>约束</li><li>逆向需求</li><li>将来需求</li></ul></li></ul><p><strong>4.总体设计</strong></p><ul><li>系统设计阶段，确定系统的具体实现方法</li><li>结构设计阶段，确定软件结构</li></ul><p><strong>5.详细设计</strong></p><ul><li>确定应该怎样具体地实现所要求的系统</li><li>过程设计工具<ul><li>程序流程图</li><li>盒图</li><li>PAD图</li></ul></li></ul><p><strong>6.编码与单元测试</strong></p><ul><li><p>测试步骤</p><ul><li>1.模块（单元）测试  2.子系统测试  3.系统（集成）测试  4.验收测试  5.平行测试</li></ul></li><li><p>单元测试</p><ul><li>白盒测试</li></ul></li><li><p>集成测试</p><ul><li>测试接口</li></ul></li><li><p>确认测试</p><ul><li>如果软件的功能和性能如同用户所合理期待的那样，软件就是有效的</li><li>黑盒测试</li><li>Alpha、Beta测试</li></ul></li><li><p>白盒测试</p><ul><li><p>白盒测试：结构测试</p></li><li><p>逻辑覆盖</p><ul><li><p>语句覆盖</p></li><li><p>判定覆盖</p></li><li><p>条件覆盖</p></li><li><p>判定/条件覆盖</p></li><li><p>条件组合覆盖  （查错能力最强）</p></li><li><p>路径覆盖</p></li></ul></li></ul></li><li><p>黑盒测试</p><ul><li><p>黑盒测试：功能测试</p></li><li><p>边界值分析</p></li></ul></li></ul><p><strong>7.综合测试</strong></p><p><strong>8.软件维护</strong></p><ul><li>交付使用后，为了改正错误或满足新的需要而修改软件的过程</li><li>结构化维护</li><li>非结构化维护</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;软件生命周期&quot;&gt;&lt;a href=&quot;#软件生命周期&quot; class=&quot;headerlink&quot; title=&quot;软件生命周期&quot;&gt;&lt;/a&gt;软件生命周期&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;1.问题定义&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.可行性分析&lt;/strong</summary>
      
    
    
    
    
    <category term="软件工程" scheme="http://austoncloud.xyz/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>服务器配置</title>
    <link href="http://austoncloud.xyz/2021/12/13/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>http://austoncloud.xyz/2021/12/13/%E6%9C%8D%E5%8A%A1%E5%99%A8/</id>
    <published>2021-12-13T09:24:08.517Z</published>
    <updated>2021-12-14T05:10:38.606Z</updated>
    
    <content type="html"><![CDATA[<h1 id="服务器配置"><a href="#服务器配置" class="headerlink" title="服务器配置"></a>服务器配置</h1><hr><p>[TOC]</p><h2 id="更换镜像源"><a href="#更换镜像源" class="headerlink" title="更换镜像源"></a>更换镜像源</h2><h2 id="pip更换镜像源"><a href="#pip更换镜像源" class="headerlink" title="pip更换镜像源"></a>pip更换镜像源</h2><ul><li><p>临时使用镜像源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使用pip的时候加参数 -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure></li><li><p>永久更换镜像源</p><p>linux下，修改 ~/.pip/pip.conf (没有就创建一个)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure><p>windows下，直接在user目录中创建一个pip目录，如：C:\Users\xx\pip，新建文件pip.ini</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line"> index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure></li></ul><h3 id="apt-get国内镜像源"><a href="#apt-get国内镜像源" class="headerlink" title="apt-get国内镜像源"></a>apt-get国内镜像源</h3><p>获取镜像链接</p><p><a href="https://developer.aliyun.com/mirror/">阿里云镜像</a></p><p>备份系统文件</p><p><code>cp /etc/apt/sources.list /etc/apt/sources.bak1</code></p><p>编辑配置文件</p><p><code>vim /etc/apt/sources.list</code></p><p>将原有内容全部替换为新内容即可</p><h3 id="npm更换淘宝镜像源"><a href="#npm更换淘宝镜像源" class="headerlink" title="npm更换淘宝镜像源"></a>npm更换淘宝镜像源</h3><p>1、临时使用淘宝镜像源</p><p><code>npm --registry https://registry.npm.taobao.org install express</code></p><p>2、永久更换淘宝镜像源</p><p><code>npm config set registry https:*//registry.npm.taobao.org</code></p><p>查看当前使用的镜像源</p><p><code>npm config get registry</code></p><h2 id="Node-js安装"><a href="#Node-js安装" class="headerlink" title="Node.js安装"></a>Node.js安装</h2><p><strong>1、下载安装</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 下载</span><br><span class="line">wget https://nodejs.org/dist/v12.16.2/node-v12.16.2-linux-x64.tar.gz</span><br><span class="line"></span><br><span class="line">// 解压</span><br><span class="line">tar -xzvf node-v12.16.2-linux-x64.tar.gz</span><br><span class="line"></span><br><span class="line">// 进入加压目录</span><br><span class="line">cd node-v12.16.2-linux-x64</span><br><span class="line"></span><br><span class="line">// 进入/opt</span><br><span class="line">mkdir node</span><br><span class="line">cp /解压文件 /opt/node</span><br></pre></td></tr></table></figure><p><strong>2、配置环境变量</strong></p><p>Linux的环境变量文件：profile</p><p>==先备份后修改==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/profile /etc/profile.bak</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line">在文件末尾加入：</span><br><span class="line">export NODE_HOME=/opt/node/(路径下为bin、lib...)</span><br><span class="line">export PATH=$PATH:$NODE_HOME/bin </span><br><span class="line">export NODE_PATH=$NODE_HOME/lib/node_module</span><br></pre></td></tr></table></figure><p>更新资源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><p>检查是否安装成功</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><h2 id="Docker安装"><a href="#Docker安装" class="headerlink" title="Docker安装"></a>Docker安装</h2><p><strong>卸载老版本的Docker</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get remove docker docker-ce docker-engine docker.io containerd.io runc</span><br></pre></td></tr></table></figure><p>Docker<a href="https://download.docker.com/linux/static/stable/x86_64/">下载地址</a></p><p><strong>下载后解压到系统目录</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tar xzvf /path/to/&lt;FILE&gt;.tgz</span><br><span class="line">$ sudo mv docker/* /usr/bin/</span><br></pre></td></tr></table></figure><p><strong>添加系统用户组</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo groupadd docker</span><br><span class="line">$ sudo usermod -aG docker $USER</span><br><span class="line">$ newgrp docker </span><br></pre></td></tr></table></figure><p><strong>验证是否安装成功</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker --version</span><br><span class="line">Docker version 19.03.5, build 633a0ea838</span><br></pre></td></tr></table></figure><p><strong>添加国内镜像源</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkdir /etc/docker</span><br><span class="line">$ sudo vim /etc/docker/daemon.json</span><br><span class="line">添加以下内容</span><br><span class="line">&#123; </span><br><span class="line">&quot;registry-mirrors&quot;: [&quot;https://alzgoonw.mirror.aliyuncs.com&quot;] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>配置系统服务</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/systemd/system/docker.socket</span><br><span class="line">添加以下内容</span><br><span class="line"></span><br><span class="line">[Unit]</span><br><span class="line">Description=Docker Socket for the API</span><br><span class="line">PartOf=docker.service</span><br><span class="line"></span><br><span class="line">[Socket]</span><br><span class="line">ListenStream=/var/run/docker.sock</span><br><span class="line">SocketMode=0660</span><br><span class="line">SocketUser=root</span><br><span class="line">SocketGroup=docker</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=sockets.target</span><br><span class="line"></span><br><span class="line">vim /etc/systemd/system/docker.service</span><br><span class="line">添加以下内容</span><br><span class="line"></span><br><span class="line">[Unit]</span><br><span class="line">Description=Docker Application Container Engine</span><br><span class="line">Documentation=https://docs.docker.com</span><br><span class="line">After=network-online.target docker.socket firewalld.service</span><br><span class="line">Wants=network-online.target</span><br><span class="line">Requires=docker.socket</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=notify</span><br><span class="line"># the default is not to use systemd for cgroups because the delegate issues still</span><br><span class="line"># exists and systemd currently does not support the cgroup feature set required</span><br><span class="line"># for containers run by docker</span><br><span class="line">ExecStart=/usr/bin/dockerd -H fd://</span><br><span class="line">ExecReload=/bin/kill -s HUP $MAINPID</span><br><span class="line">LimitNOFILE=1048576</span><br><span class="line"># Having non-zero Limit*s causes performance problems due to accounting overhead</span><br><span class="line"># in the kernel. We recommend using cgroups to do container-local accounting.</span><br><span class="line">LimitNPROC=infinity</span><br><span class="line">LimitCORE=infinity</span><br><span class="line"># Uncomment TasksMax if your systemd version supports it.</span><br><span class="line"># Only systemd 226 and above support this version.</span><br><span class="line">#TasksMax=infinity</span><br><span class="line">TimeoutStartSec=0</span><br><span class="line"># set delegate yes so that systemd does not reset the cgroups of docker containers</span><br><span class="line">Delegate=yes</span><br><span class="line"># kill only the docker process, not all processes in the cgroup</span><br><span class="line">KillMode=process</span><br><span class="line"># restart the docker process if it exits prematurely</span><br><span class="line">Restart=on-failure</span><br><span class="line">StartLimitBurst=3</span><br><span class="line">StartLimitInterval=60s</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p><strong>分配权限</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ chmod 644 /etc/systemd/system/docker.s*</span><br></pre></td></tr></table></figure><p><strong>配置更改后重新加载文件</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl daemon-reload</span><br></pre></td></tr></table></figure><p><strong>启动服务</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl start docker</span><br></pre></td></tr></table></figure><p><strong>验证服务是否正常</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run hello-world</span><br></pre></td></tr></table></figure><p><strong>设置开机自启</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl enable docker</span><br></pre></td></tr></table></figure><p><strong>卸载Docker</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl disable docker</span><br><span class="line">$ systemctl stop docker</span><br><span class="line">$ sudo cd /usr/bin</span><br><span class="line">$ sudo rm containerd  containerd-shim  ctr  docker  dockerd  docker-init  docker-proxy  runc</span><br><span class="line">$ sudo rm -rf /etc/docker/</span><br><span class="line">$ sudo rm -rf /etc/systemd/system/docker.service.d/*</span><br></pre></td></tr></table></figure><h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><p>快速、简洁且高效的博客框架</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g// 安装hexo</span><br><span class="line">hexo init blog// 初始化</span><br><span class="line">cd blog</span><br><span class="line">npm install</span><br><span class="line">hexo server// 启动服务</span><br></pre></td></tr></table></figure><p>导出为静态页面</p><p><code>hexo generate</code></p><h3 id="Hexo部署"><a href="#Hexo部署" class="headerlink" title="Hexo部署"></a>Hexo部署</h3><ul><li><p>创建用户并配置仓库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">useradd git</span><br><span class="line">passwd git // 设置密码</span><br><span class="line">su git // 这步很重要，不切换用户后面会很麻烦</span><br><span class="line">cd /home/git/</span><br><span class="line">mkdir -p projects/blog // 项目存在的真实目录</span><br><span class="line">mkdir repos &amp;&amp; cd repos</span><br><span class="line">git init --bare blog.git // 创建一个裸露的仓库</span><br><span class="line">cd blog.git/hooks</span><br><span class="line">vi post-receive // 创建 hook 钩子函数，输入了内容如下</span><br></pre></td></tr></table></figure><p>post-update的内容如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">git --work-tree=/home/git/projects/blog --git-dir=/home/git/repos/blog.git checkout -f</span><br></pre></td></tr></table></figure></li><li><p>授权post-update</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod +x post-receive</span><br><span class="line">exit // 退出到 root 登录</span><br><span class="line">chown -R git:git /home/git/repos/blog.git // 添加权限</span><br></pre></td></tr></table></figure></li><li><p>给git用户添加ssh秘钥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">su - git</span><br><span class="line">mkdir -p ~/.ssh</span><br><span class="line">touch ~/.ssh/authorized_keys</span><br><span class="line">chmod 600 ~/.ssh/authorzied_keys</span><br><span class="line">chmod 700 ~/.ssh</span><br><span class="line">vim ~/.ssh/authorized_keys    #将本地ssh密钥粘贴进去</span><br></pre></td></tr></table></figure></li><li><p>连接测试</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh git@api.austoncloud.xyz</span><br><span class="line"># 若不需要密码直接连接代表成功</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ hexo d</span><br><span class="line">ERROR Deployer not found: git</span><br><span class="line">若出现执行报错，执行如下</span><br><span class="line">npm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure></li><li><p>配置NGINX监听</p></li><li><p>编辑hexo的本地文件_config.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span><span class="comment"># 用户名</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@api.austoncloud.xyz:/home/git/repos/blog.git</span><span class="comment">#Git仓库地址</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span><span class="comment"># 分支</span></span><br></pre></td></tr></table></figure></li><li><p>在 package.json 中添加 npm 脚本</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;hexo generate&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;clean&quot;</span>: <span class="string">&quot;hexo clean&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;deploy&quot;</span>: <span class="string">&quot;hexo clean &amp;&amp; hexo g -d&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;start&quot;</span>: <span class="string">&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo s&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;server&quot;</span>: <span class="string">&quot;hexo server&quot;</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure></li><li><p>本地发布</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run deploy</span><br></pre></td></tr></table></figure></li></ul><h2 id="NGINX"><a href="#NGINX" class="headerlink" title="NGINX"></a>NGINX</h2><p><strong>Deepin安装NGINX</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install build-essential</span><br><span class="line">sudo apt-get install libtool</span><br><span class="line">sudo apt-get install libpcre3 libpcre3-dev</span><br><span class="line">sudo apt-get install zlib1g-dev</span><br><span class="line">sudo apt-get install openssl</span><br><span class="line">########上面是安装依赖包###########</span><br><span class="line">wget http://nginx.org/download/nginx-1.18.0.tar.gz   #下载nginx</span><br><span class="line">tar -zxvf nginx-1.18.0.tar.gz</span><br><span class="line">cd nginx-1.18.0</span><br><span class="line">./configure --prefix=/usr/local/nginx  #配置  prefix指定安装路径</span><br><span class="line">make</span><br><span class="line">sudo make install   #安装</span><br><span class="line">sudo /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf  #启动</span><br></pre></td></tr></table></figure><p><strong>端口转发配置</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/nginx/conf.d/blog.conf</span><br><span class="line">vim /etc/nginx/conf.d/blog.conf</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">listen 80;</span><br><span class="line">root /home/admin/blog/public;</span><br><span class="line">index index.html;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vim /etc/nginx/nginx.conf</span><br><span class="line"></span><br><span class="line">注释 include /etc/nginx/sites-enabled/*;</span><br><span class="line"></span><br><span class="line">nginx -s reload// 重启服务</span><br></pre></td></tr></table></figure><p><strong>配置静态路径</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line"></span><br><span class="line">listen 80;</span><br><span class="line">default_type &#x27;text/html&#x27;;</span><br><span class="line">charset utf-8;</span><br><span class="line">location / &#123;</span><br><span class="line">root /home/share/hexostatic/public;</span><br><span class="line">index index.html;</span><br><span class="line">autoindex on;</span><br><span class="line">&#125;</span><br><span class="line">location /home &#123;</span><br><span class="line">alias /home/auston;</span><br><span class="line">autoindex on;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>卸载nginx</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /etc/nginx/</span><br><span class="line">rm -rf /usr/sbin/nginx</span><br><span class="line">rm /usr/share/man/man1/nginx.1.gz</span><br><span class="line">apt-get remove nginx*</span><br></pre></td></tr></table></figure><h2 id="其他配置"><a href="#其他配置" class="headerlink" title="其他配置"></a>其他配置</h2><hr><h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><p>常用命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init//初始化</span><br><span class="line">git add .//添加文件</span><br><span class="line">git status//查看当前状态</span><br><span class="line">git commit -m &quot;test&quot;//提交添加信息</span><br><span class="line">git branch//查看本地分支</span><br></pre></td></tr></table></figure><p>Gitee导入外部仓库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git status //确保当前项目状态为clean，若不是则需要继续添加提交</span><br><span class="line">git remote add git-osc https://gitee.com/auston-y/unique.git</span><br><span class="line">git push git-osc --all</span><br><span class="line">git push git-osc --tags//推送所有分支</span><br></pre></td></tr></table></figure><h2 id="开机自动挂载"><a href="#开机自动挂载" class="headerlink" title="开机自动挂载"></a>开机自动挂载</h2><p>先获取需要挂载的磁盘名称</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#fdisk -l//查看所有磁盘</span><br><span class="line">#df -T//查看已挂载的文件系统</span><br></pre></td></tr></table></figure><p>修改/etc/rc.d/rc.local文件</p><p>添加如下信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sda3 /mnt/data1</span><br><span class="line">mount /dev/sdb4 /mnt/data2</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">配置服务器的相关配置以及各类镜像源的修改</summary>
    
    
    
    
    <category term="Git" scheme="http://austoncloud.xyz/tags/Git/"/>
    
    <category term="Hexo" scheme="http://austoncloud.xyz/tags/Hexo/"/>
    
    <category term="NGINX" scheme="http://austoncloud.xyz/tags/NGINX/"/>
    
    <category term="Node.js" scheme="http://austoncloud.xyz/tags/Node-js/"/>
    
  </entry>
  
  <entry>
    <title>Linux基础</title>
    <link href="http://austoncloud.xyz/2021/12/12/Linux%E5%9F%BA%E7%A1%80/"/>
    <id>http://austoncloud.xyz/2021/12/12/Linux%E5%9F%BA%E7%A1%80/</id>
    <published>2021-12-11T16:00:00.000Z</published>
    <updated>2021-12-14T01:34:27.410Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux基础"><a href="#Linux基础" class="headerlink" title="Linux基础"></a>Linux基础</h1><h2 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h2><hr><h3 id="1、文件系统类型"><a href="#1、文件系统类型" class="headerlink" title="1、文件系统类型"></a>1、文件系统类型</h3><ul><li><p>默认文件系统：xfs</p></li><li><p>网络文件系统：NFS</p></li><li><p>光盘文件：ISO9660</p></li></ul><h3 id="2、树形结构目录"><a href="#2、树形结构目录" class="headerlink" title="2、树形结构目录"></a>2、树形结构目录</h3><h4 id="常用目录"><a href="#常用目录" class="headerlink" title="常用目录"></a>常用目录</h4><ul><li><p>/bin       存放系统常用命令</p></li><li><p>/dev      设备文件存储目录，如声卡、磁盘文件等</p></li><li><p>/boot    存放Linux内核及引导系统程序文件</p></li><li><p>/etc       存放系统配置文件</p></li><li><p>/home  普通用户主目录</p></li><li><p>/lib        库文件</p></li><li><p>/tmp     临时文件目录</p></li><li><p>/usr      存放程序的目录</p></li><li><p>/var      系统日志文件</p></li><li><p>/etc/init.t   存放系统豁服务器启动的脚本</p></li></ul><h4 id="特殊目录"><a href="#特殊目录" class="headerlink" title="特殊目录"></a>特殊目录</h4><table><thead><tr><th align="center">符号</th><th align="center">意义</th></tr></thead><tbody><tr><td align="center">.</td><td align="center">当前工作目录</td></tr><tr><td align="center">..</td><td align="center">父目录</td></tr><tr><td align="center">~</td><td align="center">用户主目录</td></tr><tr><td align="center">-</td><td align="center">前一个工作目录</td></tr></tbody></table><h4 id="绝对路径与相对路径"><a href="#绝对路径与相对路径" class="headerlink" title="绝对路径与相对路径"></a>绝对路径与相对路径</h4><ul><li>绝对路径：以根目录为起点，完整地表示到目标文件或目录的路径</li><li>相对路径：以当前目录为起点，完整地表示到目标文件或目录的路径</li></ul><h3 id="3、文件操作命令"><a href="#3、文件操作命令" class="headerlink" title="3、文件操作命令"></a>3、文件操作命令</h3><h4 id="mkdir-创建新目录"><a href="#mkdir-创建新目录" class="headerlink" title="==mkdir    创建新目录=="></a>==mkdir    创建新目录==</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir 选项 目录名称</span><br></pre></td></tr></table></figure><p>mkdir命令选项</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-m</td><td align="center">创建目录时设定权限</td></tr><tr><td align="center">-p</td><td align="center">创建目录结构中指定的每一个目录，不存在则创建，存在也不会覆盖</td></tr><tr><td align="center">-v</td><td align="center">每次创建都显示信息</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#mkdir home/web//相对路径</span><br><span class="line">#mkdir /home/web//绝对路径</span><br><span class="line">#mkdir -p /tmp/test1/test2</span><br></pre></td></tr></table></figure><h4 id="cd-切换目录"><a href="#cd-切换目录" class="headerlink" title="==cd    切换目录=="></a>==cd    切换目录==</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd 目录名称</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#cd /home</span><br><span class="line">#cd ..//返回父目录</span><br><span class="line">#cd //回到当前用户主目录</span><br><span class="line">#cd ~//回到当前用户主目录</span><br></pre></td></tr></table></figure><h4 id="pwd-查看当前路径"><a href="#pwd-查看当前路径" class="headerlink" title="==pwd    查看当前路径=="></a>==pwd    查看当前路径==</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure><h4 id="ls-查看当前目录下的信息"><a href="#ls-查看当前目录下的信息" class="headerlink" title="==ls    查看当前目录下的信息=="></a>==ls    查看当前目录下的信息==</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls 选项 目录名称</span><br></pre></td></tr></table></figure><p>ls命令选项</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-a</td><td align="center">列出目录下所有文件，包括隐藏文件</td></tr><tr><td align="center">-d</td><td align="center">将目录像文件一样显示，而不显示其下的文件</td></tr><tr><td align="center">-i</td><td align="center">输出文件节点的信息</td></tr><tr><td align="center">-l</td><td align="center">列出文件详细信息，一行输出一个文件</td></tr><tr><td align="center">-m</td><td align="center">横向输出文件</td></tr><tr><td align="center">-x</td><td align="center">按列输出，横向排序</td></tr><tr><td align="center">-R</td><td align="center">列出所有子目录下的文件</td></tr><tr><td align="center">-S</td><td align="center">以文件大小排序</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#cd -la /tmp//长格式显示/tmp下的所有文件</span><br></pre></td></tr></table></figure><h4 id="touch-创建文件"><a href="#touch-创建文件" class="headerlink" title="==touch    创建文件=="></a>==touch    创建文件==</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch 文件名</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#touch file1 file2//在当前目录创建file1，file2</span><br></pre></td></tr></table></figure><h4 id="cp-复制目录及文件"><a href="#cp-复制目录及文件" class="headerlink" title="==cp    复制目录及文件=="></a>==cp    复制目录及文件==</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp 选项 源文件 目标文件</span><br></pre></td></tr></table></figure><p>cp命令选项</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-a</td><td align="center">保留链接、文件属性，复制目录时可递归复制目录</td></tr><tr><td align="center">-f</td><td align="center">如果目标文件或目录已存在，则将其覆盖，不做提示</td></tr><tr><td align="center">-i</td><td align="center">如果目标文件或目录已存在，对用户做出提示</td></tr><tr><td align="center">-r</td><td align="center">将源目录下的文件和子目录一起复制到目标目录中</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#cp file1 /home/file2//将file1复制到/home目录并重命名为file2</span><br><span class="line">#cp -r work1 /hoem//将work1目录复制到/home下</span><br></pre></td></tr></table></figure><h4 id="mv-移动-重命名文件或目录"><a href="#mv-移动-重命名文件或目录" class="headerlink" title="==mv    移动/重命名文件或目录=="></a>==mv    移动/重命名文件或目录==</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv 选项 源文件 目标文件</span><br></pre></td></tr></table></figure><p>备份文件为原名称后附加一个“~”符号</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#mv file1 file2//将文件file1重命名为file2</span><br><span class="line">#mv -b file2 /tmp/file3//将文件file2移动到/tmp目录下并重命名为file3，如果/tmp已存在file3则备份file3</span><br><span class="line">#mv work /tmp//将目录work移动到/tmp目录下</span><br></pre></td></tr></table></figure><h4 id="rm-删除文件"><a href="#rm-删除文件" class="headerlink" title="==rm    删除文件=="></a>==rm    删除文件==</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm 选项 目标文件</span><br></pre></td></tr></table></figure><p>rm命令选项</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-f</td><td align="center">强制删除文件或目录</td></tr><tr><td align="center">-i</td><td align="center">对用户进行提示</td></tr><tr><td align="center">-r</td><td align="center">删除目录，将指定目录下的所有文件及其子文件及子目录一并删除</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#rm file//删除文件file</span><br><span class="line">#rm -r worl//删除目录work</span><br><span class="line">#rm -rf /*强制删除根目录</span><br></pre></td></tr></table></figure><h4 id="rmdir-删除目录"><a href="#rmdir-删除目录" class="headerlink" title="==rmdir    删除目录=="></a>==rmdir    删除目录==</h4><p>删除对象必须为空目录，且必须在上级目录进行删除</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir 选项 目录名</span><br></pre></td></tr></table></figure><h4 id="find-查找文件"><a href="#find-查找文件" class="headerlink" title="==find    查找文件=="></a>==find    查找文件==</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find 查找目录的路径 查找条件选项 对查找条件设定</span><br></pre></td></tr></table></figure><p>find条件选项</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-name</td><td align="center">通过文件名查找文件</td></tr><tr><td align="center">-user</td><td align="center">通过用户名查找文件</td></tr><tr><td align="center">-type</td><td align="center">通过文件类型查找文件</td></tr><tr><td align="center">-size</td><td align="center">通过文件大小查找文件</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#find /root -user root//在/root目录下，查找文件所有者是root的文件</span><br><span class="line">#find /etc -name pass*//查找/etc目录下所有以pass字符串开头的文件</span><br></pre></td></tr></table></figure><h3 id="4、vim编辑文档"><a href="#4、vim编辑文档" class="headerlink" title="4、vim编辑文档"></a>4、vim编辑文档</h3><h4 id="vim编辑器"><a href="#vim编辑器" class="headerlink" title="vim编辑器"></a>vim编辑器</h4><ul><li><p>命令模式</p><p>命令模式常用命令</p><table><thead><tr><th align="center">命令</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">/str</td><td align="center">正向查找，从当前页开始向后查找字符串str</td></tr><tr><td align="center">dd</td><td align="center">删除当前行</td></tr><tr><td align="center">yy</td><td align="center">复制当前行到缓冲区</td></tr><tr><td align="center">P</td><td align="center">将缓冲区的内容粘贴到下一行</td></tr><tr><td align="center">u</td><td align="center">撤销</td></tr><tr><td align="center">.</td><td align="center">重复执行刚刚执行完成的操作</td></tr></tbody></table></li><li><p>输入模式</p><p>输入a，i，o均可进入输入模式</p></li><li><p>末行模式</p><p>末行模式常用命令</p><table><thead><tr><th align="center">命令</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">:wq</td><td align="center">保存退出</td></tr><tr><td align="center">:q!</td><td align="center">不保存退出</td></tr><tr><td align="center">:q</td><td align="center">退出vim</td></tr></tbody></table></li></ul><h4 id="查看文件内容命令"><a href="#查看文件内容命令" class="headerlink" title="查看文件内容命令"></a>查看文件内容命令</h4><ul><li><p>==more==    查看第一屏内容，空格键显示下一屏内容。</p></li><li><p>==less==        可上下翻页</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#more test.txt</span><br><span class="line">#less test.txt</span><br></pre></td></tr></table></figure><ul><li>==cat==        将文件内容打印输出到终端</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat 选项 文件名</span><br></pre></td></tr></table></figure><ul><li><p>==head==    查看文件前几行信息</p></li><li><p>==tail==        查看文件后几行信息</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#head -1 test.txt//显示第一行内容</span><br><span class="line">#tail -2 test.txt//显示后两行内容</span><br></pre></td></tr></table></figure><ul><li>==grep==    在指定文本文件中匹配字符串，输出匹配字符串所在行的全部内容</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep 关键字 查找范围</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#grep this myfile//在当前目录下的myfile文件中查找字符串this</span><br></pre></td></tr></table></figure><h4 id="管道与重定向"><a href="#管道与重定向" class="headerlink" title="管道与重定向"></a>管道与重定向</h4><ul><li><p>==管道==</p><p>管道    “|”，将一个命令的执行结果作为另一个命令的输入来执行，管道命令可以将多个命令连接在一起，每个命令单独执行，每一个命令的运行结果都作为下一个命令的输入。</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmd1|cmd2|cmd3|...|cmd(n)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#ls /etc|grep pass*//显示/etc目录中文件名以pass开头的文件</span><br></pre></td></tr></table></figure><ul><li><p>==重定向==</p><p>Linux命令执行中，常规下会有输入，命令处理完成会有结果的输出。重定向指不适用系统的标准输入输出、错误端口进行信息的获取或输出，而是通过重新指定，让命令从非默认的输入输出设备获取或输出信息。</p><ul><li><p>stdin    标准输入设备端口，默认是键盘</p></li><li><p>stdout 标准输出设备端口，默认是控制台</p></li><li><p>stderr 标准错误设备端口，输出错误信息，默认是控制台</p><table><thead><tr><th align="center">命令</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">&gt;</td><td align="center">输出重定向，覆盖文件中原有的内容</td></tr><tr><td align="center">&gt;&gt;</td><td align="center">输出重定向，新内容追加在原有文件后面</td></tr><tr><td align="center">&lt;</td><td align="center">输入重定向</td></tr><tr><td align="center">2&gt;</td><td align="center">错误重定向</td></tr><tr><td align="center">&amp;&gt;</td><td align="center">输出和错误重定向同时实现</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#./hello &amp;&gt;/tmp/file//将程序hello的执行结果和错误信息都重定向输出到</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="5、挂载文件"><a href="#5、挂载文件" class="headerlink" title="5、挂载文件"></a>5、挂载文件</h3><h4 id="查询设备名"><a href="#查询设备名" class="headerlink" title="查询设备名"></a>查询设备名</h4><p>在挂载设备前，先试用fdisk -l命令查看系统自动分配的设备名</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#fdisk -l</span><br></pre></td></tr></table></figure><h4 id="挂载文件系统"><a href="#挂载文件系统" class="headerlink" title="挂载文件系统"></a>挂载文件系统</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount 选项 设备名 挂载点</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sdb1 /mnt/sdb1</span><br></pre></td></tr></table></figure><h4 id="卸载文件系统"><a href="#卸载文件系统" class="headerlink" title="卸载文件系统"></a>卸载文件系统</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount 设备名或挂载点</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#umount /dev/sdb1//指定设备名卸载</span><br><span class="line">#umount /mnt/sdb1//指定挂载点卸载</span><br></pre></td></tr></table></figure><h2 id="用户与用户组"><a href="#用户与用户组" class="headerlink" title="用户与用户组"></a>用户与用户组</h2><hr><h3 id="1、用户与用户组的创建"><a href="#1、用户与用户组的创建" class="headerlink" title="1、用户与用户组的创建"></a>1、用户与用户组的创建</h3><h4 id="与用户管理相关的系统文件"><a href="#与用户管理相关的系统文件" class="headerlink" title="与用户管理相关的系统文件"></a>与用户管理相关的系统文件</h4><ul><li><p>==用户信息配置文件/etc/passwd==</p><p>用户信息存放于该文件中，所有用户均可读取，共7个字段，用 “：”分隔</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">用户名：口令：：用户标识号（UID）：用户组标识号（GID）：注释性表述：用户主目录：命令解释器</span><br></pre></td></tr></table></figure></li><li><p>==用户密码配置文件/etc/shadow==</p><p>该文件普通用户无法读取，只有root才能读取，共9个字段，用 “：”分隔</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root:$aubwu2s6dj22dsc::0:99999:7:::</span><br><span class="line">用户名：用户加密密码：最后一次修改密码时间：最小时间间隔：警告时间：不活动时间：失效时间：标志</span><br></pre></td></tr></table></figure></li><li><p>==用户组配置文件/etc/group==</p><p>一个组可以有多个用户，共有4个字段，用 “：”分隔</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root:x:0:</span><br><span class="line">组名：组口令：组标识号（GID）：组成员</span><br></pre></td></tr></table></figure></li><li><p>==用户组密码配置文件/etc/gshadow==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root:::</span><br><span class="line">组名：组口令：组的管理员账号：组成员</span><br></pre></td></tr></table></figure></li></ul><h4 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h4><ul><li><p>==useradd创建用户==</p><p>添加新用户</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd 选项 用户名</span><br></pre></td></tr></table></figure><p>useradd命令选项</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-d</td><td align="center">指定用户主目录</td></tr><tr><td align="center">-g</td><td align="center">指定用户组</td></tr><tr><td align="center">-m</td><td align="center">若主目录不存在，则创建</td></tr><tr><td align="center">-s</td><td align="center">指定登录使用的Shell类型，默认/bin/bash</td></tr><tr><td align="center">-c</td><td align="center">注释性说明文字</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#useradd -d /var/test -g root -c This is a test -s /bin/sh test</span><br><span class="line">//创建一个名为test的用户，设置主目录为/var/test，作为root的用户组成员，指定Shell，添加注释</span><br></pre></td></tr></table></figure></li><li><p>==usermod修改用户属性==</p><p>对创建好的用户，使用usermod修改和设置账号的各个属性</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod 选项 用户名</span><br></pre></td></tr></table></figure><p>usermod命令选项</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-l</td><td align="center">修改用户名</td></tr><tr><td align="center">-c</td><td align="center">修改用户描述信息</td></tr><tr><td align="center">-d</td><td align="center">修改用户主目录</td></tr><tr><td align="center">-g</td><td align="center">修改用户组</td></tr><tr><td align="center">-s</td><td align="center">修改用户登录使用的Shell</td></tr><tr><td align="center">-u</td><td align="center">修改用户id</td></tr><tr><td align="center">-e</td><td align="center">修改用户有效期</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#usermod -l test1 test//修改账户test为test1</span><br></pre></td></tr></table></figure></li><li><p>==userdel删除用户==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#userdel -r test//删除test用户及其主目录及该用户相关文档</span><br></pre></td></tr></table></figure></li><li><p>==passwd管理用户密码==</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd 选项 用户名</span><br></pre></td></tr></table></figure><p>​    使用passwd加用户名，root用户可设置指定用户密码</p><h4 id="用户组管理"><a href="#用户组管理" class="headerlink" title="用户组管理"></a>用户组管理</h4><ul><li><p>==groupadd创建用户组==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd 选项 用户组名称</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#groupadd student//创建用户组student</span><br></pre></td></tr></table></figure></li><li><p>==groupmod修改用户组属性==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupmod 选项 组名</span><br></pre></td></tr></table></figure><p>groupmod命令选项</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-n</td><td align="center">修改组名</td></tr><tr><td align="center">-g</td><td align="center">修改组标识号（GID）</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#groupmod -n student teacher//修改组student为teacher</span><br></pre></td></tr></table></figure></li><li><p>==groupdel删除用户组==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupdel 组名</span><br></pre></td></tr></table></figure></li><li><p>==gpasswd维护组中成员==</p><p>用于将用户添加进组，把用户从组中移除，设置管理员</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpasswd 选项 用户名 组名</span><br></pre></td></tr></table></figure><p>gpasswd命令选项</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-a</td><td align="center">添加用户到组</td></tr><tr><td align="center">-d</td><td align="center">将用户移除组</td></tr><tr><td align="center">-A</td><td align="center">设置用户为管理员</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#gpasswd -d test student//将test从student组移除</span><br></pre></td></tr></table></figure></li></ul><h3 id="2、文件属性的读取和修改"><a href="#2、文件属性的读取和修改" class="headerlink" title="2、文件属性的读取和修改"></a>2、文件属性的读取和修改</h3><h4 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h4><p>使用长格式查看目录信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lrwxrw-r--4rootroot7MAY3118:00bin -&gt; usr/bin</span><br><span class="line">文件属性文件数所有者所属的组 文件大小  建立月份建立日期  建立年份或时间  文件名</span><br></pre></td></tr></table></figure><p>文件属性</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">标识符类型 rwx rwx rwx</span><br><span class="line">类型标识文件所有者权限  组用户权限   其他用户权限</span><br></pre></td></tr></table></figure><p>文件类型</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">d目录文件</span><br><span class="line">l符号链接（快捷方式）</span><br><span class="line">s套接字文件</span><br><span class="line">b二进制文件</span><br><span class="line">c字符设备文件</span><br><span class="line">p管道文件</span><br><span class="line">-普通文件（不属于以上类型的文件）</span><br></pre></td></tr></table></figure><h4 id="修改文件属性"><a href="#修改文件属性" class="headerlink" title="修改文件属性"></a>修改文件属性</h4><ul><li><p>==chmod修改文件访问权限==</p><ul><li>绝对权限法</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 选项 绝对权限值 要修改的文件或目录</span><br></pre></td></tr></table></figure><p>常用选项-R，其功能为可以递归设置指定目录下的全部文件（包括子目录和子目录中的文件）的权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#chmod 666 test//修改当前目录下test文件的访问权限，所有用户可读可写</span><br></pre></td></tr></table></figure><ul><li>相对权限法</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 修改对象 运算符 用户权限 要修改的文件或目录名称</span><br></pre></td></tr></table></figure><p>修改对象的位置可以是u（文件所有者），g（同组用户），o（其他用户），a（全体用户）的任意组合</p><p>运算符可以是+（添加），-（删除），=（只赋值）中的任意一个</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#chmod g+w test//对文件test的组用户添加写权限</span><br><span class="line">#chmod a+rw test//对文件test的所有用户均有读写权限</span><br><span class="line">#chmod o-r file//取消文件file的其他用户的读权限</span><br></pre></td></tr></table></figure></li><li><p>==chown修改文件所有者==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown 选项 新所有者.新用户组 要修改的文件或目录名</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#chown tom.ass file//将文件file所有者修改为tom，所属组为ass</span><br></pre></td></tr></table></figure></li><li><p>==提升用户权限==</p><ul><li>su切换用户</li><li>sudo提升权限</li></ul></li></ul><h2 id="服务与进程"><a href="#服务与进程" class="headerlink" title="服务与进程"></a>服务与进程</h2><hr><h3 id="1、Linux启动配置"><a href="#1、Linux启动配置" class="headerlink" title="1、Linux启动配置"></a>1、Linux启动配置</h3><h4 id="Linux系统运行级别"><a href="#Linux系统运行级别" class="headerlink" title="Linux系统运行级别"></a>Linux系统运行级别</h4><table><thead><tr><th align="center">运行级别</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">停机</td></tr><tr><td align="center">1</td><td align="center">单用户模式，仅root用户对系统维护使用</td></tr><tr><td align="center">2</td><td align="center">用户定义运行级别，默认等同级别3</td></tr><tr><td align="center">3</td><td align="center">完全多用户模式，标准运行级别</td></tr><tr><td align="center">4</td><td align="center">域特定运行级别，默认等同级别3</td></tr><tr><td align="center">5</td><td align="center">Linux系统图形界面运行界别</td></tr><tr><td align="center">6</td><td align="center">重新启动</td></tr></tbody></table><h3 id="2、systemctl管理NFS服务"><a href="#2、systemctl管理NFS服务" class="headerlink" title="2、systemctl管理NFS服务"></a>2、systemctl管理NFS服务</h3><p><strong>==systemctl命令==</strong></p><h3 id="3、进程的延迟与周期调度"><a href="#3、进程的延迟与周期调度" class="headerlink" title="3、进程的延迟与周期调度"></a>3、进程的延迟与周期调度</h3><h4 id="进程调用"><a href="#进程调用" class="headerlink" title="进程调用"></a>进程调用</h4><ul><li><p>==延迟性调度命令at==</p><p>在未来某时刻执行特定命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">at -v -q x -f file -m time</span><br></pre></td></tr></table></figure><p>-v    显示作业将被执行的时间</p><p>-q    选队列名称</p><p>-f    从文件中读取Shell脚本</p><p>-m    执行完成后发送到电子邮件</p><p>time    设定执行时间</p><ul><li>HH:MM格式        04:00（4:00AM）</li><li>midnight（12:00AM）teatime（4:00PM）</li><li>英文月份日期年份格式</li><li>MMDDYY、MM/DD/YY、MM.DD.YY（100121代表2021年10月01日）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#at -f data 17:00 + 2days//两天后执行data文件中的作业</span><br><span class="line">#at now + 1 minutes</span><br><span class="line">at&gt;echo &quot;hello&quot; &gt;&gt;/dev/tty1//一分钟后将”hello“显示在/dev/tty1中</span><br><span class="line">at&gt;ctrl+D</span><br></pre></td></tr></table></figure></li><li><p>==周期性调度命令crontab==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -u user &#123;-e|-l|-r&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-e</td><td align="center">修改当前的调度任务</td></tr><tr><td align="center">-l</td><td align="center">列出当前的调度任务</td></tr><tr><td align="center">-r</td><td align="center">删除当前的调度任务</td></tr></tbody></table><p>crontab文件格式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">minute hour day month dayofweek 命令</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#crontab</span><br><span class="line">30 12 * * * 4 echo &quot;This is a test&quot; &gt;&gt; /dev/tty1//每周4的12:30输出</span><br></pre></td></tr></table></figure></li></ul><h4 id="进程查看"><a href="#进程查看" class="headerlink" title="进程查看"></a>进程查看</h4><ul><li><p>==查看系统进程信息ps==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps 选项</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-a</td><td align="center">显示所有用户进程</td></tr><tr><td align="center">-A</td><td align="center">显示系统中所有进程信息</td></tr><tr><td align="center">-f</td><td align="center">完整地显示进程信息</td></tr><tr><td align="center">-l</td><td align="center">以长格式显示进程信息</td></tr></tbody></table></li></ul><ul><li><p>==查看端口占用情况==</p><p><code>netstat -anp | grep 8080        // 查看8080端口占用情况</code></p></li></ul><h4 id="进程终止"><a href="#进程终止" class="headerlink" title="进程终止"></a>进程终止</h4><ul><li><p>==终止进程kill==</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill 信号代码 pid</span><br></pre></td></tr></table></figure><p>预设信号代码为15，可将指定进程终止，若无法终止该进程可使用信号代码9，强制删除进程</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#ps -A | grep sshd//查询sshd的服务进程pid</span><br><span class="line">#kill -9 1097//1097是sshd服务进程的pid</span><br></pre></td></tr></table></figure></li></ul><h2 id="软件安装与包管理工具"><a href="#软件安装与包管理工具" class="headerlink" title="软件安装与包管理工具"></a>软件安装与包管理工具</h2><hr><h3 id="1、RPM"><a href="#1、RPM" class="headerlink" title="1、RPM"></a>1、RPM</h3><h4 id="RPM使用"><a href="#RPM使用" class="headerlink" title="RPM使用"></a>RPM使用</h4><ul><li><p>RPM主要有5种基本功能：查询、安装、升级、刷新、卸载</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm 选项 文件</span><br></pre></td></tr></table></figure><p>rpm选项说明</p><table><thead><tr><th align="center">选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-a</td><td align="center">显示所有软件包</td></tr><tr><td align="center">-q</td><td align="center">查询功能</td></tr><tr><td align="center">-i</td><td align="center">安装指定软件包，通常与-v -h结合使用</td></tr><tr><td align="center">-e</td><td align="center">删除指定软件包</td></tr><tr><td align="center">-U</td><td align="center">升级指定安装包</td></tr><tr><td align="center">-v</td><td align="center">显示指令执行过程</td></tr><tr><td align="center">-h</td><td align="center">显示进度条</td></tr></tbody></table></li><li><p>查询</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#rpn -qa//查询系统已安装的所有rpm软件包</span><br></pre></td></tr></table></figure></li><li><p>安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#rpm -ivh 软件包名称</span><br></pre></td></tr></table></figure></li><li><p>升级</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#rpm -Uvh 软件包名称</span><br></pre></td></tr></table></figure></li><li><p>刷新</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#rpm -Fvh 软件包名称</span><br></pre></td></tr></table></figure></li><li><p>卸载</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#rpm -e 软件名称</span><br></pre></td></tr></table></figure></li><li><p>常用命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#rpm -qa|grep 关键字//筛选出需要的信息</span><br></pre></td></tr></table></figure></li></ul><h3 id="2、TAR"><a href="#2、TAR" class="headerlink" title="2、TAR"></a>2、TAR</h3><h4 id="TAR包管理工具"><a href="#TAR包管理工具" class="headerlink" title="TAR包管理工具"></a>TAR包管理工具</h4><p>LInux下标准文件打包格式是tar，使用tar命令将文件打包成扩展名为.tar的文件</p><p>tar包管理工具主要有5种基本功能：打包、查询、释放、更新、追加。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar 主选项+辅选项 文件或目录</span><br></pre></td></tr></table></figure><p>tar主选项说明</p><table><thead><tr><th align="center">主选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-c</td><td align="center">创建新的tar包</td></tr><tr><td align="center">-t</td><td align="center">列出tar包中的文件列表</td></tr><tr><td align="center">-x</td><td align="center">从tar包中释放文件，解压缩</td></tr><tr><td align="center">-r</td><td align="center">将文件追加到末尾</td></tr></tbody></table><p>tar辅选项说明</p><table><thead><tr><th align="center">辅选项</th><th align="center">功能说明</th></tr></thead><tbody><tr><td align="center">-f</td><td align="center">使用备份文件（必选）</td></tr><tr><td align="center">-v</td><td align="center">详细报告tar处理的文件信息</td></tr><tr><td align="center">-z</td><td align="center">使用gzip来压缩/解压缩文件</td></tr><tr><td align="center">-j</td><td align="center">使用bzip来压缩/解压缩文件</td></tr><tr><td align="center">-C</td><td align="center">指定文件解压后的存放路径</td></tr></tbody></table><h4 id="TAR使用"><a href="#TAR使用" class="headerlink" title="TAR使用"></a>TAR使用</h4><ul><li><p>创建TAR包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf tar包名 要打包备份的文件目录或文件名//将指定的目录或文件打包为.tar的包文件（未压缩）</span><br><span class="line">tar -z/jcvf tar包名 要打包备份的文件目录或文件名//创建压缩格式的压缩包，坨镇名分别为.gz或.bz</span><br></pre></td></tr></table></figure></li><li><p>查看TAR包中的文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -tvf tar包名//查看tar包中的文件列表（未压缩）</span><br><span class="line">tar -z/jtvf tar包名//查看压缩包文件列表</span><br></pre></td></tr></table></figure></li><li><p>释放TAR包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf tar包名//释放tar包（未压缩）</span><br><span class="line">tar -z/jxvf tar包名//释放压缩包</span><br></pre></td></tr></table></figure></li><li><p>向TAR包中追加文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -rvf tar包名 要追加的文件名</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <summary type="html">Linux常用命令简介</summary>
    
    
    
    
    <category term="Linux" scheme="http://austoncloud.xyz/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Redis</title>
    <link href="http://austoncloud.xyz/2021/07/11/Redis/"/>
    <id>http://austoncloud.xyz/2021/07/11/Redis/</id>
    <published>2021-07-11T10:51:18.000Z</published>
    <updated>2021-12-14T05:17:21.403Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a><a href="https://redis.io/topics/sentinel">Redis</a></h1><h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置值  r 为redis对象</span></span><br><span class="line"></span><br><span class="line">user_dict = &#123;</span><br><span class="line">                <span class="string">&#x27;mobile&#x27;</span>: user.mobile,</span><br><span class="line">                <span class="string">&#x27;name&#x27;</span>: user.name,</span><br><span class="line">                <span class="string">&#x27;photo&#x27;</span>: user.profile_photo,</span><br><span class="line">                <span class="string">&#x27;intro&#x27;</span>: user.introduction,</span><br><span class="line">                <span class="string">&#x27;certi&#x27;</span>: user.certificate</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                r.setex(self.key, constants.UserProfileCacheTTL.get_val(), json.dumps(user_dict))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 取值</span></span><br><span class="line"></span><br><span class="line">ret = r.get(self.key)</span><br><span class="line"><span class="comment"># json.loads方法可以接受bytes类型   1.endoce() == b&#x27;1&#x27;  这个b可以自己加</span></span><br><span class="line">user_dict = json.loads(ret)</span><br><span class="line"><span class="keyword">return</span> user_dict</span><br></pre></td></tr></table></figure><p>​    set 设置值    get 取值        incr  增加1    incrby a -1 增加或减少值值随意</p><h3 id="hash"><a href="#hash" class="headerlink" title="hash"></a>hash</h3><p>​    hset 设置单一值        hmset 设置多个值    hget 取单一值    hgetall 取多个值</p><h3 id="list"><a href="#list" class="headerlink" title="list"></a>list</h3><p>​    lpush 左插     rpush  右插     lpop 取左     rpop 取右边</p><h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><p>​    通过时间复杂度  可以看那个性能更高    查询比list性能搞</p><p>​    无序</p><p>​    sadd 添加数据     smembers 取数据    sismember 判断是不是在这个集合里面的</p><h3 id="zset-sortrd-set"><a href="#zset-sortrd-set" class="headerlink" title="zset (sortrd set)"></a>zset (sortrd set)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">myzet:[</span><br><span class="line">        &#123;值， 分数&#125;,</span><br><span class="line">        &#123;值， 分数&#125;，</span><br><span class="line">        . . .</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure><p>zadd 添加    ZADD    键    分数    值   ZADD myzset 1 “one”</p><p>zscore 查分数     zscore    myzet “one”        redis_obj.zscore(一整条数据的key,  里面单条数据的值)</p><p>zrange 获取值的指定范围        zrange   myzet 0 -1 withscores    从myzet 里面查询所有    并且把所有值和分数列举出来</p><p>zincrby(数据不存在也会创建 值不在  在会增加或减少 键  从无到有，从有到跟新)    增加/减少分数    zincrby(myzet ,  分数，值)        redis_obj.zincrby(一整条数据的key，里面单条数据的值，num)</p><p>zadd  数据可以覆盖  zadd(key, score1, val1, score2, val2, …)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">count = current_app.redis_slave.zscore(cls.key, user_id)</span><br><span class="line"></span><br><span class="line">current_app.redis_master.zincrby(cls.key, user_id, incr_num)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># # 设置redis的存储记录  这里得业务是先删除掉数据，在设置进缓存</span></span><br><span class="line">    <span class="comment"># pl = current_app.redis_master.pipeline()</span></span><br><span class="line">    <span class="comment"># pl.delete(&#x27;count:user:arts&#x27;)</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># # zadd(key, score1, val1, score2, val2, ...)</span></span><br><span class="line">    <span class="comment"># for user_id, count in ret:</span></span><br><span class="line">    <span class="comment">#     pl.zadd(&#x27;count:user:arts&#x27;, count, user_id)</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># pl.execute()</span></span><br></pre></td></tr></table></figure><p>​             </p><h3 id="有效期"><a href="#有效期" class="headerlink" title="有效期"></a>有效期</h3><p>只对数据记录级别设置有效期 不对内部的具体元素设置</p><p>setex  字符串类型有效    setex(键， 有效期， 值)</p><p>expires  对所有的类型通用</p><h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><p>delete(key)     redis_obj.delete(key)</p><h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><p>​    开启事务 multi  执行事务exec</p><p>​    出现错误也会执行下去</p><p>可以使用watch(起到乐观锁的作用) 来监视值的变化,  (场景 原来有100 件商品  一个用户买走两件  销量增加 2  在并发的情况下 也有一个用户同一时刻进来 也买走几件  这时候库存，销量就会出问题) ， 一旦原来的值发生变化执行的时候就会报错。</p><h3 id="持久化"><a href="#持久化" class="headerlink" title="持久化"></a>持久化</h3><p>​    快照持久化配置</p><p>​    redis.conf</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># RDB快照持久化  配置 默认使用   redis单进程运行   将数据保存到磁盘的时候 会开一个子进程来保存数据  </span><br><span class="line"># 表示900 秒执行过一次redis操作 就会被保存到磁盘里面</span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line"></span><br><span class="line"># 关掉快照持久化</span><br><span class="line">save &#x27;&#x27;</span><br><span class="line"></span><br><span class="line"># 手动快照持久化</span><br><span class="line">bgsave</span><br><span class="line"></span><br><span class="line">关闭redis  触发</span><br><span class="line">shutdown</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">AOF 追加文件持久化</span><br><span class="line">redis可以将执行的所有指令追加记录到文件中持久化存储，这是redis的另一种持久化机制。</span><br><span class="line"></span><br><span class="line">redis默认未开启AOF机制。</span><br><span class="line"></span><br><span class="line">redis可以通过配置如下项开启AOF机制</span><br><span class="line"></span><br><span class="line">appendonly yes  # 是否开启AOF</span><br><span class="line">appendfilename &quot;appendonly.aof&quot;  # AOF文件</span><br><span class="line">AOF机制记录操作的时机</span><br><span class="line"></span><br><span class="line"># appendfsync always  # 每个操作都写到磁盘中</span><br><span class="line">appendfsync everysec  # 每秒写一次磁盘，默认</span><br><span class="line"># appendfsync no  # 由操作系统决定写入磁盘的时机</span><br><span class="line">使用AOF机制的缺点是随着时间的流逝，AOF文件会变得很大。但redis可以压缩AOF文件。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>结合使用<br>redis允许我们同时使用两种机制，通常情况下我们会设置AOF机制为everysec 每秒写入，则最坏仅会丢失一秒内的数据。</p><h3 id="redis-主从"><a href="#redis-主从" class="headerlink" title="redis 主从"></a>redis 主从</h3><blockquote><p>(只能一主多从,但是redis的从可以发展下线  从下面还有从)</p></blockquote><blockquote><p>redis-cli 里面</p><p>slaveof host port    可以将这台机器的redis 设置为另一台机器的从</p><p>redis.conf  里面配置</p><p>slaveof <masterip> <masterport></p></blockquote><p>查看主从</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">redis-cli 里面</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">info  查看redis配置和状态（内存之类的）</span><br><span class="line"></span><br><span class="line">info Replication  可以查看主从</span><br></pre></td></tr></table></figure><h3 id="redis-高可用"><a href="#redis-高可用" class="headerlink" title="redis 高可用"></a>redis 高可用</h3><pre><code>&gt;为了保证redis最大程度上能够使用，redis提供了主从同步+Sentinel哨兵机制。&gt;&gt;- **Monitoring**. Sentinel constantly checks if your master and slave instances are working as expected.&gt;&gt;- **Notification**. Sentinel can notify the system administrator, another computer programs, via an API, that something is wrong with one of the monitored Redis instances.&gt;&gt;- **Automatic failover**. If a master is not working as expected, Sentinel can start a failover process where a slave is promoted to master, the other additional slaves are reconfigured to use the new master, and the applications using the Redis server informed about the new address to use when connecting.&gt;&gt;- **Configuration provider**. Sentinel acts as a source of authority for clients service discovery: clients connect to Sentinels in order to ask for the address of the current Redis master responsible for a given service. If a failover occurs, Sentinels will report the new address&gt;&gt;  ​</code></pre><p>链接到redis 集群命令</p><blockquote><p>redis-cli -c -p 7000</p></blockquote><p>查看redis数据类型</p><blockquote><p>type “键”</p></blockquote>]]></content>
    
    
    <summary type="html">Redis的相关知识与基本操作</summary>
    
    
    
    
    <category term="Redis" scheme="http://austoncloud.xyz/tags/Redis/"/>
    
  </entry>
  
</feed>
